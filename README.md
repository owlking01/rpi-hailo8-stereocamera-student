# rpi5_stereo-camera
라즈베리5 cpu 기반 스트레오카메라 + scdepth모델 fusion


<depth 2 camera comp shm termianl1 >

gst-launch-1.0 -e   compositor name=comp sink_0::xpos=0 sink_0::ypos=0 sink_1::xpos=640 sink_1::ypos=0 !     "video/x-raw,format=RGB,width=1280,height=480,framerate=30/1" !     queue leaky=downstream max-size-buffers=2 !     videoscale ! videoconvert !     "video/x-raw,format=RGB,width=320,height=256,framerate=30/1" !     queue leaky=downstream max-size-buffers=2 !     hailonet hef-path=/home/kim/hailo-rpi5-examples/resources/models/hailo8/scdepthv3.hef batch-size=1 !     queue leaky=downstream max-size-buffers=2 !     hailofilter so-path=/home/kim/hailo-rpi5-examples/resources/so/libdepth_postprocess.so function-name=filter_scdepth !     queue leaky=downstream max-size-buffers=2 !     tee name=tD       tD. ! queue leaky=downstream max-size-buffers=2 !         videoconvert ! "video/x-raw,format=GRAY8,width=320,height=256,framerate=30/1" !         shmsink socket-path=/tmp/scdepth.sock sync=false wait-for-connection=false async=false shm-size=268435456       tD. ! queue leaky=downstream max-size-buffers=2 !         hailooverlay ! videoconvert ! autovideosink sync=false     v4l2src device=/dev/video0 io-mode=2 !     "video/x-bayer,format=grbg,width=1280,height=800,framerate=30/1" !     queue leaky=downstream max-size-buffers=2 !     bayer2rgb ! videoconvert ! "video/x-raw,format=RGB,width=1280,height=800,framerate=30/1" !     tee name=tL       tL. ! queue leaky=downstream max-size-buffers=2 !         shmsink socket-path=/tmp/left_1280x800.sock sync=false wait-for-connection=false async=false shm-size=268435456       tL. ! queue leaky=downstream max-size-buffers=2 !         videoscale ! "video/x-raw,format=RGB,width=640,height=480,framerate=30/1" !         comp.sink_0     v4l2src device=/dev/video2 io-mode=2 !     "video/x-bayer,format=grbg,width=1280,height=800,framerate=30/1" !     queue leaky=downstream max-size-buffers=2 !     bayer2rgb ! videoconvert ! "video/x-raw,format=RGB,width=1280,height=800,framerate=30/1" !     tee name=tR       tR. ! queue leaky=downstream max-size-buffers=2 !         shmsink socket-path=/tmp/right_1280x800.sock sync=false wait-for-connection=false async=false shm-size=268435456       tR. ! queue leaky=downstream max-size-buffers=2 !         videoscale ! "video/x-raw,format=RGB,width=640,height=480,framerate=30/1" !         comp.sink_1


< fusion comp termianl2 >
python3 /home/kim/fusion/live_fusion_shm.py --show --compute_every 2
